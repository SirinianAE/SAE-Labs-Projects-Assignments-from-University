package guiManager;

import java.awt.EventQueue;
import javax.swing.JFrame;
import java.awt.CardLayout;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JButton;
import java.awt.event.ActionListener;
import java.io.File;
import java.awt.event.ActionEvent;
import javax.swing.JTextField;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JCheckBox;
import javax.swing.JTextPane;
import accountsManager.TaxpayerAccountsManager;
import taxpayer.Taxpayer;

public class GuiManager {
	private JScrollPane scrollPane;
	private JFrame frame;
	private JTextField textFieldInputFilePath;
	private JTextField textFieldTaxpayerAfm;
	private JPanel panelSetOutputFilePath;
	private JPanel panelShowMainMenu;
	private JPanel panelLoadTaxpayer;
	private JPanel panelChooseTaxpayer;
	private JPanel panelChosenTaxpayerMenu;
	private JPanel panelDeleteTaxpayer;
	private JPanel panelAddReceipt;
	private JPanel panelShowReport;
	private JPanel panelDeleteReceipt;
	private JPanel panelSaveTaxpayer;
	private String inputFilePath;
	private String outputFilePath;
	private Taxpayer chosenTaxpayer;
	private TaxpayerAccountsManager accountsManager =
			new TaxpayerAccountsManager();
	private JTextField textFieldReceiptForDelete;
	private JTextField textFieldKind;
	private JTextField textFieldID;
	private JTextField textFieldDate;
	private JTextField textFieldAmount;
	private JTextField textFieldCompany;
	private JTextField textFieldCountry;
	private JTextField textFieldCity;
	private JTextField textFieldStreet;
	private JTextField textFieldNumber;
	private String category;
	private int receiptCode;
	private String dateOfIssue;
	private int amountPaid;
	private String companyName;
	private String country;
	private String city;
	private String street;
	private int streetNumber;
	private JTextField textFieldDeleteTaxpayer;
	private JTextField textFieldOutputFilePath;
	
	public static void main(String[] args) {
		EventQueue.invokeLater(new Runnable() {
			public void run() {
				try {
					GuiManager window = new GuiManager();
					window.frame.setVisible(true);
				} catch (Exception e) {
					e.printStackTrace();
				}
			}
		});
	}
	
	public GuiManager() {
		initialize();
	}
	
	private void initialize() {
		frame = new JFrame();
		frame.setBounds(100, 100, 450, 300);
		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		deleteTaxpayer();
		loadTaxpayer();
		showTaxpayerInfo();
		chooseTaxpayer();
		chosenTaxpayerMenu();
		addReceipt();
		deleteReceipt();
		saveTaxpayer();
		showMainMenu();
		showReport();
		setOutputFile();
	}
	
	private void setOutputFile(){
		panelSetOutputFilePath = new JPanel();
		frame.getContentPane().add(panelSetOutputFilePath,
				"name_1030804165165594");
		panelSetOutputFilePath.setLayout(null);
		panelSetOutputFilePath.setVisible(true);
		
		textFieldOutputFilePath = new JTextField();
		textFieldOutputFilePath.setBounds(39, 59, 350, 68);
		panelSetOutputFilePath.add(textFieldOutputFilePath);
		textFieldOutputFilePath.setColumns(10);
		
		JButton btnChooseFileFromSetOutputPathPanel =
				new JButton("CHOOSE FILE");
		btnChooseFileFromSetOutputPathPanel.addActionListener(
				new ActionListener() {
			public void actionPerformed(ActionEvent arg0) {
				outputFilePath = textFieldOutputFilePath.getText();
				createDirectoryIfNeeded(outputFilePath);
				accountsManager.setDomain(outputFilePath);
				panelShowMainMenu.setVisible(true);
				panelSetOutputFilePath.setVisible(false);
			}
		});
		btnChooseFileFromSetOutputPathPanel.setBounds(139, 167, 145,
				45);
		panelSetOutputFilePath.add(
				btnChooseFileFromSetOutputPathPanel);
		
		JLabel lblNewLabel_11 =
				new JLabel("Enter output file's path");
		lblNewLabel_11.setBounds(154, 34, 116, 14);
		panelSetOutputFilePath.add(lblNewLabel_11);
	}
	
	private void createDirectoryIfNeeded(String directoryName)
	{
	  File theDirectory = new File(directoryName);
	  if (!theDirectory.exists() || !theDirectory.isDirectory())
	  {
		  JOptionPane.showMessageDialog(null,
				  "Can't locate directory's path");
		  System.exit(-1);
	  }
	}
	
	private void showReport(){
		panelShowReport = new JPanel();
		frame.getContentPane().add(panelShowReport,
				"name_981382272378719");
		panelShowReport.setLayout(null);
		panelShowReport.setVisible(false);
		
		JCheckBox chckbxPieChart = new JCheckBox("pie chart");
		chckbxPieChart.setBounds(155, 47, 97, 23);
		panelShowReport.add(chckbxPieChart);
		chckbxPieChart.setSelected(true);
		
		JCheckBox chckbxBarChart = new JCheckBox("bar chart");
		chckbxBarChart.setBounds(155, 91, 97, 23);
		panelShowReport.add(chckbxBarChart);
		chckbxBarChart.setSelected(true);
		
		JButton btnShowChart = new JButton("SHOW CHART");
		btnShowChart.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				if(chckbxPieChart.isSelected()){
					accountsManager.createPieChart(chosenTaxpayer);
				}
				if(chckbxBarChart.isSelected()){
					accountsManager.createBarChart(chosenTaxpayer);
				}
				panelChosenTaxpayerMenu.setVisible(true);
				panelShowReport.setVisible(false);
			}
		});
		btnShowChart.setBounds(135, 156, 138, 23);
		panelShowReport.add(btnShowChart);
		
		JLabel lblChoose = new JLabel("Choose chart type");
		lblChoose.setBounds(155, 11, 97, 14);
		panelShowReport.add(lblChoose);
	}
	
	
	private void showTaxpayerInfo(){
		scrollPane = new JScrollPane();
		frame.getContentPane().add(scrollPane,
				"name_730639875189510");
		scrollPane.setVisible(false);

		JTextPane textPane = new JTextPane();
		scrollPane.setViewportView(textPane);
		
		JButton btnNewButton = new JButton("OK");
		scrollPane.setRowHeaderView(btnNewButton);
		btnNewButton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				panelChosenTaxpayerMenu.setVisible(true);
				scrollPane.setVisible(false);
			}
		});
		
		JButton btnNewButton_1 = new JButton("SHOW TAXPAYER'S INFO");
		scrollPane.setColumnHeaderView(btnNewButton_1);
		btnNewButton_1.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				textPane.setText(
						chosenTaxpayer.getTaxpayerInformationString()
						);
			}
		});
	}
	
	
	private void showMainMenu(){
		panelShowMainMenu = new JPanel();
		frame.getContentPane().add(panelShowMainMenu,
				"name_723228577274520");
		panelShowMainMenu.setLayout(null);
		panelShowMainMenu.setVisible(false);

		JLabel lblMainMenu = new JLabel("Main Menu");
		lblMainMenu.setBounds(188, 11, 64, 14);
		panelShowMainMenu.add(lblMainMenu);

		JButton btnDeleteTaxpayer = new JButton("DELETE TAXPAYER");
		btnDeleteTaxpayer.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				panelDeleteTaxpayer.setVisible(true);
				panelShowMainMenu.setVisible(false);
			}
		});
		btnDeleteTaxpayer.setBounds(122, 190, 184, 48);
		panelShowMainMenu.add(btnDeleteTaxpayer);

		JButton btnChooseTaxpayer = new JButton("CHOOSE TAXPAYER");
		btnChooseTaxpayer.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				panelChooseTaxpayer.setVisible(true);
				panelShowMainMenu.setVisible(false);
			}
		});
		
		JButton btnLoadTaxpayer = new JButton("LOAD TAXPAYER");
		btnLoadTaxpayer.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				panelLoadTaxpayer.setVisible(true);
				panelShowMainMenu.setVisible(false);
			}
		});
		btnLoadTaxpayer.setBounds(122, 44, 184, 48);
		panelShowMainMenu.add(btnLoadTaxpayer);
		btnChooseTaxpayer.setBounds(122, 118, 184, 48);
		panelShowMainMenu.add(btnChooseTaxpayer);
	}
	
	private void loadTaxpayer(){
		panelLoadTaxpayer = new JPanel();
		frame.getContentPane().add(panelLoadTaxpayer,
				"name_723228625387284");
		panelLoadTaxpayer.setLayout(null);
		panelLoadTaxpayer.setVisible(false);
		
		textFieldInputFilePath = new JTextField();
		textFieldInputFilePath.setBounds(27, 61, 379, 56);
		panelLoadTaxpayer.add(textFieldInputFilePath);
		textFieldInputFilePath.setColumns(10);
		
		JLabel lblEnterTaxpayeData = new JLabel(
				"Enter taxpaye's data file's path");
		lblEnterTaxpayeData.setBounds(130, 11, 158, 39);
		panelLoadTaxpayer.add(lblEnterTaxpayeData);

		JButton btnLoad = new JButton("LOAD");
		btnLoad.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				inputFilePath = textFieldInputFilePath.getText();
				accountsManager.insertTaxpayerFromFile(inputFilePath);
				panelShowMainMenu.setVisible(true);
				panelLoadTaxpayer.setVisible(false);
			}
		});
		btnLoad.setBounds(27, 151, 163, 56);
		panelLoadTaxpayer.add(btnLoad);

		JButton btnExit = new JButton("EXIT");
		btnExit.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				panelShowMainMenu.setVisible(true);
				panelLoadTaxpayer.setVisible(false);
			}
		});
		btnExit.setBounds(253, 151, 153, 56);
		panelLoadTaxpayer.add(btnExit);
	}
	
	private void saveTaxpayer(){
		panelSaveTaxpayer = new JPanel();
		frame.getContentPane().add(panelSaveTaxpayer,
				"name_723228821548180");
		panelSaveTaxpayer.setLayout(null);
		panelSaveTaxpayer.setVisible(false);
		
		JCheckBox chckbxTxt = new JCheckBox("TXT");
		chckbxTxt.setBounds(163, 50, 97, 23);
		panelSaveTaxpayer.add(chckbxTxt);
		chckbxTxt.setSelected(true);
		
		JCheckBox chckbxXml = new JCheckBox("XML");
		chckbxXml.setBounds(163, 97, 97, 23);
		panelSaveTaxpayer.add(chckbxXml);
		chckbxXml.setSelected(true);

		JButton btnSaveFromSaveTaxpayer = new JButton("SAVE");
		btnSaveFromSaveTaxpayer.addActionListener(
				new ActionListener() {
			public void actionPerformed(ActionEvent arg0) {
				if(chckbxTxt.isSelected()){
					accountsManager.createLogTextFile(chosenTaxpayer);
				}
				if(chckbxXml.isSelected()){
					accountsManager.createLogXmlFile(chosenTaxpayer);
				}
				panelChosenTaxpayerMenu.setVisible(true);
				panelSaveTaxpayer.setVisible(false);
			}
		});
		btnSaveFromSaveTaxpayer.setBounds(147, 149, 127, 48);
		panelSaveTaxpayer.add(btnSaveFromSaveTaxpayer);
		
		JButton btnExitFromSaveTaxpayerPanel = new JButton("EXIT");
		btnExitFromSaveTaxpayerPanel.addActionListener(
				new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				panelChosenTaxpayerMenu.setVisible(true);
				panelSaveTaxpayer.setVisible(false);
			}
		});
		btnExitFromSaveTaxpayerPanel.setBounds(341, 211, 83, 39);
		panelSaveTaxpayer.add(btnExitFromSaveTaxpayerPanel);
		
		JLabel lblChooseFileType = new JLabel("Choose file type");
		lblChooseFileType.setBounds(162, 11, 127, 14);
		panelSaveTaxpayer.add(lblChooseFileType);
	}

	private void deleteReceipt(){
		panelDeleteReceipt = new JPanel();
		frame.getContentPane().add(panelDeleteReceipt,
				"name_723228783398802");
		panelDeleteReceipt.setLayout(null);
		panelDeleteReceipt.setVisible(false);
		
		JLabel lblNewLabel_1 = new JLabel(
				"Enter receipt's ID for deletion");
		lblNewLabel_1.setBounds(133, 19, 205, 14);
		panelDeleteReceipt.add(lblNewLabel_1);
		
		textFieldReceiptForDelete = new JTextField();
		textFieldReceiptForDelete.setBounds(50, 44, 329, 62);
		panelDeleteReceipt.add(textFieldReceiptForDelete);
		textFieldReceiptForDelete.setColumns(10);

		JButton btnDeleteReceiptFromDeleteReceiptPanel =
				new JButton("DELETE RECEIPT");
		btnDeleteReceiptFromDeleteReceiptPanel.addActionListener(
				new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				receiptCode = Integer.parseInt(
						textFieldReceiptForDelete.getText());
				accountsManager.deleteReceiptFromTaxpayer(
						chosenTaxpayer, receiptCode);
				accountsManager.updateInfoFiles(chosenTaxpayer);
				panelChosenTaxpayerMenu.setVisible(true);
				panelDeleteReceipt.setVisible(false);
			}
		});
		btnDeleteReceiptFromDeleteReceiptPanel.setBounds(50, 163, 148,
				62);
		panelDeleteReceipt.add(
				btnDeleteReceiptFromDeleteReceiptPanel);

		JButton btnExitFromDeleteReceiptPanel = new JButton("EXIT");
		btnExitFromDeleteReceiptPanel.addActionListener(
				new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				panelChosenTaxpayerMenu.setVisible(true);
				panelDeleteReceipt.setVisible(false);
			}
		});
		btnExitFromDeleteReceiptPanel.setBounds(231, 163, 148, 62);
		panelDeleteReceipt.add(btnExitFromDeleteReceiptPanel);
	}

	private void chosenTaxpayerMenu(){
		panelChosenTaxpayerMenu = new JPanel();
		frame.getContentPane().add(panelChosenTaxpayerMenu,
				"name_723228713281209");
		panelChosenTaxpayerMenu.setLayout(null);
		panelChosenTaxpayerMenu.setVisible(false);
		
		JButton btnAddNewReceipt = new JButton("ADD NEW RECEIPT");
		btnAddNewReceipt.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				panelAddReceipt.setVisible(true);
				panelChosenTaxpayerMenu.setVisible(false);
			}
		});
		btnAddNewReceipt.setBounds(96, 11, 229, 33);
		panelChosenTaxpayerMenu.add(btnAddNewReceipt);
		
		JButton btnDeleteReceipt = new JButton("DELETE RECEIPT");
		btnDeleteReceipt.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				panelDeleteReceipt.setVisible(true);
				panelChosenTaxpayerMenu.setVisible(false);
			}
		});
		btnDeleteReceipt.setBounds(96, 140, 229, 33);
		panelChosenTaxpayerMenu.add(btnDeleteReceipt);

		JButton btnShowReport = new JButton("SHOW REPORT");
		btnShowReport.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				panelShowReport.setVisible(true);
				panelChosenTaxpayerMenu.setVisible(false);
			}
		});
		btnShowReport.setBounds(96, 52, 229, 33);
		panelChosenTaxpayerMenu.add(btnShowReport);

		JButton btnDeleteCurrentTaxpayer =
				new JButton("DELETE CURRENT TAXPAYER");
		btnDeleteCurrentTaxpayer.addActionListener(
				new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				accountsManager.deleteTaxpayer(chosenTaxpayer);
				JOptionPane.showMessageDialog(null,
						"Current taxpayer successfully deleted");
				panelShowMainMenu.setVisible(true);
				panelChosenTaxpayerMenu.setVisible(false);
			}
		});
		btnDeleteCurrentTaxpayer.setBounds(96, 96, 229, 33);
		panelChosenTaxpayerMenu.add(btnDeleteCurrentTaxpayer);

		JButton btnExitFromChosenTaxpayerMenu = new JButton("EXIT");
		btnExitFromChosenTaxpayerMenu.addActionListener(
				new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				panelShowMainMenu.setVisible(true);
				panelChosenTaxpayerMenu.setVisible(false);
			}
		});
		btnExitFromChosenTaxpayerMenu.setBounds(169, 228, 86, 22);
		panelChosenTaxpayerMenu.add(btnExitFromChosenTaxpayerMenu);
		
		JButton btnSaveTaxpayer = new JButton("SAVE TAXPAYER");
		btnSaveTaxpayer.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				panelSaveTaxpayer.setVisible(true);
				panelChosenTaxpayerMenu.setVisible(false);
			}
		});
		btnSaveTaxpayer.setBounds(96, 184, 229, 33);
		panelChosenTaxpayerMenu.add(btnSaveTaxpayer);
	}
	
	private void addReceipt(){
		panelAddReceipt = new JPanel();
		frame.getContentPane().add(panelAddReceipt,
				"name_723228748503867");
		panelAddReceipt.setLayout(null);
		panelAddReceipt.setVisible(false);
		
		textFieldKind = new JTextField();
		textFieldKind.setBounds(140, 34, 86, 20);
		panelAddReceipt.add(textFieldKind);
		textFieldKind.setColumns(10);
		
		textFieldID = new JTextField();
		textFieldID.setBounds(140, 83, 86, 20);
		panelAddReceipt.add(textFieldID);
		textFieldID.setColumns(10);
		
		textFieldDate = new JTextField();
		textFieldDate.setBounds(140, 131, 86, 20);
		panelAddReceipt.add(textFieldDate);
		textFieldDate.setColumns(10);
		
		textFieldAmount = new JTextField();
		textFieldAmount.setBounds(140, 178, 86, 20);
		panelAddReceipt.add(textFieldAmount);
		textFieldAmount.setColumns(10);
		
		textFieldCompany = new JTextField();
		textFieldCompany.setBounds(338, 34, 86, 20);
		panelAddReceipt.add(textFieldCompany);
		textFieldCompany.setColumns(10);
		
		textFieldCountry = new JTextField();
		textFieldCountry.setBounds(338, 83, 86, 20);
		panelAddReceipt.add(textFieldCountry);
		textFieldCountry.setColumns(10);
		
		textFieldCity = new JTextField();
		textFieldCity.setBounds(338, 131, 86, 20);
		panelAddReceipt.add(textFieldCity);
		textFieldCity.setColumns(10);
		
		textFieldStreet = new JTextField();
		textFieldStreet.setBounds(338, 178, 86, 20);
		panelAddReceipt.add(textFieldStreet);
		textFieldStreet.setColumns(10);
		
		textFieldNumber = new JTextField();
		textFieldNumber.setBounds(338, 230, 86, 20);
		panelAddReceipt.add(textFieldNumber);
		textFieldNumber.setColumns(10);
		
		JLabel lblNewLabel_3 = new JLabel("Date");
		lblNewLabel_3.setBounds(22, 137, 95, 14);
		panelAddReceipt.add(lblNewLabel_3);
		
		JLabel lblNewLabel = new JLabel("ID");
		lblNewLabel.setBounds(22, 89, 95, 14);
		panelAddReceipt.add(lblNewLabel);
		
		JLabel lblNewLabel_2 = new JLabel("Kind");
		lblNewLabel_2.setBounds(22, 40, 95, 14);
		panelAddReceipt.add(lblNewLabel_2);
		
		JLabel lblNewLabel_4 = new JLabel("Company");
		lblNewLabel_4.setBounds(236, 40, 92, 14);
		panelAddReceipt.add(lblNewLabel_4);
		
		JLabel lblNewLabel_5 = new JLabel("Country");
		lblNewLabel_5.setBounds(236, 89, 92, 14);
		panelAddReceipt.add(lblNewLabel_5);
		
		JLabel lblNewLabel_6 = new JLabel("City");
		lblNewLabel_6.setBounds(236, 137, 92, 14);
		panelAddReceipt.add(lblNewLabel_6);
		
		JLabel lblNewLabel_7 = new JLabel("Street");
		lblNewLabel_7.setBounds(236, 184, 92, 14);
		panelAddReceipt.add(lblNewLabel_7);
		
		JLabel lblNewLabel_8 = new JLabel("Street's number");
		lblNewLabel_8.setBounds(236, 236, 92, 14);
		panelAddReceipt.add(lblNewLabel_8);
		
		JLabel lblNewLabel_9 = new JLabel("Amount");
		lblNewLabel_9.setBounds(22, 184, 95, 14);
		panelAddReceipt.add(lblNewLabel_9);
		
		JButton btnAddReceiptFromAddReceiptPanel =
				new JButton("ADD RECEIPT");
		btnAddReceiptFromAddReceiptPanel.addActionListener(
				new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				category = textFieldKind.getText();
				receiptCode = Integer.parseInt(textFieldID.getText());
				dateOfIssue = textFieldDate.getText();
				amountPaid = Integer.parseInt(
						textFieldAmount.getText());
				companyName = textFieldCompany.getText();
				country = textFieldCountry.getText();
				city = textFieldCity.getText();
				street = textFieldStreet.getText();
				streetNumber = Integer.parseInt(
						textFieldNumber.getText());
				accountsManager.insertNewReceiptForTaxpayer(
						chosenTaxpayer, category, receiptCode,
						dateOfIssue, amountPaid, companyName, country,
						city, street, streetNumber);
				accountsManager.updateInfoFiles(chosenTaxpayer);
				panelChosenTaxpayerMenu.setVisible(true);
				panelAddReceipt.setVisible(false);
			}
		});
		btnAddReceiptFromAddReceiptPanel.setBounds(10, 229, 117, 23);
		panelAddReceipt.add(btnAddReceiptFromAddReceiptPanel);

		JButton btnExitFromAddReceiptPanel = new JButton("EXIT");
		btnExitFromAddReceiptPanel.addActionListener(
				new ActionListener() {
			public void actionPerformed(ActionEvent arg0) {
				panelChosenTaxpayerMenu.setVisible(true);
				panelAddReceipt.setVisible(false);
			}
		});
		btnExitFromAddReceiptPanel.setBounds(137, 229, 89, 23);
		panelAddReceipt.add(btnExitFromAddReceiptPanel);
	}
	
	private void chooseTaxpayer(){
		panelChooseTaxpayer = new JPanel();
		frame.getContentPane().add(panelChooseTaxpayer,
				"name_723228670069488");
		panelChooseTaxpayer.setLayout(null);
		panelChooseTaxpayer.setVisible(false);
		
		textFieldTaxpayerAfm = new JTextField();
		textFieldTaxpayerAfm.setBounds(33, 40, 365, 57);
		panelChooseTaxpayer.add(textFieldTaxpayerAfm);
		textFieldTaxpayerAfm.setColumns(10);
		
		JLabel lblEnterTaxpayersAfm = new JLabel(
				"Enter taxpayer's AFM");
		lblEnterTaxpayersAfm.setBounds(164, 11, 145, 18);
		panelChooseTaxpayer.add(lblEnterTaxpayersAfm);

		JButton btnGetTaxpayer = new JButton("GET TAXPAYER");
		btnGetTaxpayer.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				chosenTaxpayer = accountsManager.getTaxpayer(
						Integer.parseInt(
								textFieldTaxpayerAfm.getText()));
				if (chosenTaxpayer == null){
					JOptionPane.showMessageDialog(null,
							"Can't find such taxpayer!");
				}else{
					scrollPane.setVisible(true);
					panelChooseTaxpayer.setVisible(false);
				}
			}
		});
		btnGetTaxpayer.setBounds(33, 163, 151, 57);
		panelChooseTaxpayer.add(btnGetTaxpayer);

		JButton btnExitChooseTaxpayer = new JButton("EXIT");
		btnExitChooseTaxpayer.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				panelShowMainMenu.setVisible(true);
				panelChooseTaxpayer.setVisible(false);
			}
		});
		btnExitChooseTaxpayer.setBounds(265, 163, 133, 57);
		panelChooseTaxpayer.add(btnExitChooseTaxpayer);
	}

	private void deleteTaxpayer(){
		frame.getContentPane().setLayout(new CardLayout(0, 0));
		panelDeleteTaxpayer = new JPanel();
		frame.getContentPane().add(panelDeleteTaxpayer,
				"name_723228522571934");
		panelDeleteTaxpayer.setLayout(null);
		panelDeleteTaxpayer.setVisible(false);
		
		textFieldDeleteTaxpayer = new JTextField();
		textFieldDeleteTaxpayer.setBounds(31, 51, 368, 55);
		panelDeleteTaxpayer.add(textFieldDeleteTaxpayer);
		textFieldDeleteTaxpayer.setColumns(10);

		JButton btnDeleteTaxpayerFromDeleteTaxpayer =
				new JButton("DELETE TAXPAYER");
		btnDeleteTaxpayerFromDeleteTaxpayer.addActionListener(
				new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				receiptCode = Integer.parseInt(
						textFieldDeleteTaxpayer.getText());
				accountsManager.deleteTaxpayer(receiptCode);
				panelShowMainMenu.setVisible(true);
				panelDeleteTaxpayer.setVisible(false);
			}
		});
		btnDeleteTaxpayerFromDeleteTaxpayer.setBounds(31, 165, 152,
				59);
		panelDeleteTaxpayer.add(btnDeleteTaxpayerFromDeleteTaxpayer);

		JButton btnExitFromDeleteTaxpayer = new JButton("EXIT");
		btnExitFromDeleteTaxpayer.addActionListener(
				new ActionListener() {
			public void actionPerformed(ActionEvent arg0) {
				panelShowMainMenu.setVisible(true);
				panelDeleteTaxpayer.setVisible(false);
			}
		});
		btnExitFromDeleteTaxpayer.setBounds(247, 165, 152, 59);
		panelDeleteTaxpayer.add(btnExitFromDeleteTaxpayer);
		
		JLabel lblNewLabel_10 = new JLabel(
				"Enter taxpayer's AFM for deletion");
		lblNewLabel_10.setBounds(125, 26, 175, 14);
		panelDeleteTaxpayer.add(lblNewLabel_10);
	}
}
